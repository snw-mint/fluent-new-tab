/* --- Dark Mode --- */
[data-theme="dark"] .greeting-icon.outline {
    filter: invert(1); 
}
html[data-theme="dark"] {
    --bg-color: #202020;
    --text-color: #ffffff;
    --search-bg: #333333;
    --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-hover: 0 6px 16px rgba(0, 0, 0, 0.5);
}
[data-theme="dark"] .search-bar {
    background: #3B3B3B;
}
[data-theme="dark"] .settings-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .settings-wrapper {
    background: transparent;
    box-shadow: none;
}
[data-theme="dark"] .settings-wrapper:hover {
    background: rgba(50, 50, 50, 0.9);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}
[data-theme="dark"] .theme-selector {
    background: rgba(255,255,255,0.1);
}
[data-theme="dark"] .shortcut-card {
    background: #373737;
    border-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .input-group input {
    border-color: rgba(255, 255, 255, 0.2);
    background: rgba(0, 0, 0, 0.2);
}
[data-theme="dark"] .btn-cancel:hover {
    background: rgba(255, 255, 255, 0.15);
}
[data-theme="dark"] .dropdown-menu {
    background: rgba(32, 32, 32, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.08); 
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}
[data-theme="dark"] .dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .current-engine-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .divider {
    background-color: rgba(255,255,255,0.15);
}
[data-theme="dark"] .shortcut-dropdown {
    background: rgba(32, 32, 32, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 8px 28px rgba(0, 0, 0, 0.45);
}
[data-theme="dark"] .menu-btn {
    background: #333;
    color: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
[data-theme="dark"] .menu-option:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .settings-select {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.1);
    color: var(--text-color);
}
[data-theme="dark"] .settings-select option {
    background: #333;
    color: white;
}
[data-theme="dark"] .settings-popup {
    background: rgba(32, 32, 32, 0.85);
    border: 1px solid rgb(78 78 78 / 50%);
}
[data-theme="dark"] .settings-popup::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
}
[data-theme="dark"] .settings-popup::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.4);
}
[data-theme="dark"] .setting-group {
    background-color: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .input-row input,
[data-theme="dark"] .input-row button {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.1);
    color: white;
}
[data-theme="dark"] .input-row input {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.1);
}
[data-theme="dark"] .input-row button {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.1);
    color: white;
}
[data-theme="dark"] .unit-btn {
    background-color: rgba(255, 255, 255, 0.08);
}
[data-theme="dark"] .unit-btn:hover {
    background-color: rgba(255, 255, 255, 0.15);
}
[data-theme="dark"] .unit-btn.active {
    background-color: #0078d4;
    color: white;
}
[data-theme="dark"] .fluent-icon {
    filter: invert(1) brightness(2);
}
body.dark-mode .fluent-icon,
[data-theme="dark"] .fluent-icon {
    filter: invert(1) brightness(2);
}
[data-theme="dark"] .suggestions-container {
    background: rgba(40, 40, 40, 0.95); 
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
}
[data-theme="dark"] .suggestion-item:hover,
[data-theme="dark"] .suggestion-item.selected {
    background-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .launcher-btn:hover, 
[data-theme="dark"] .launcher-btn.active {
    background-color: rgba(255, 255, 255, 0.06);
}
[data-theme="dark"] .launcher-popup {
    background: rgba(32, 32, 32, 0.85);
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow: 0 8px 16px rgba(0,0,0,0.5);
}
[data-theme="dark"] .launcher-item:hover {
    background-color: rgba(255, 255, 255, 0.06);
}
[data-theme="dark"] .launcher-label {
    background: rgba(255, 255, 255, 0.9);
    color: #000;
}
[data-theme="dark"] .launcher-footer {
    border-top: 1px solid rgba(255,255,255,0.1);
    color: #74b5e7;
}
[data-theme="dark"] .settings-footer {
    border-top: 1px solid rgba(255,255,255,0.1);
}
[data-theme="dark"] .child-setting {
    border-left-color: rgba(255, 255, 255, 0.1);
}
[data-theme="dark"] .backup-btn {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.1);
}
[data-theme="dark"] .backup-btn:hover {
    background: rgba(255,255,255,0.2);
}
[data-theme="dark"] .slider {
    border-color: rgba(255,255,255,0.5);
}
[data-theme="dark"] .slider:before {
    background-color: rgba(255,255,255,0.7);
}
[data-theme="dark"] input:checked + .slider:before {
    background-color: #000;
}
[data-theme="dark"] .switch:hover .slider {
    background-color: rgba(255,255,255,0.1);
}
[data-theme="dark"] .toggle-link {
    color: #74b5e7;
}

/* =========================
   14. Wallpaper Mode Overrides
========================= */

/* Força texto/ícones brancos na interface principal quando wallpaper está ativo */
body[data-wallpaper-active="true"] .greeting-text,
body[data-wallpaper-active="true"] .translate-link,
body[data-wallpaper-active="true"] .settings-btn svg path,
body[data-wallpaper-active="true"] .settings-label,
body[data-wallpaper-active="true"] .weather-widget,
body[data-wallpaper-active="true"] .launcher-btn svg path,
body[data-wallpaper-active="true"] .shortcut-title {
    color: #ffffff !important;
    fill: #ffffff !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* Garante que ícones de imagem (Clima e Saudação Outline) fiquem brancos */
body[data-wallpaper-active="true"] .weather-icon .fluent-icon,
body[data-wallpaper-active="true"] .greeting-icon.outline {
    filter: brightness(0) invert(1) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5)) !important;
}

/* Melhora a visibilidade do hover em botões transparentes sobre o wallpaper */
body[data-wallpaper-active="true"] .settings-btn:hover,
body[data-wallpaper-active="true"] .launcher-btn:hover,
body[data-wallpaper-active="true"] .weather-widget:hover {
    background-color: rgba(255, 255, 255, 0.15);
}

html:not([data-theme="dark"]) body[data-wallpaper-active="true"] .settings-wrapper:hover .settings-label,
html:not([data-theme="dark"]) body[data-wallpaper-active="true"] .settings-wrapper:hover .settings-btn svg path {
    color: #1f1f1f !important;
    fill: #1f1f1f !important;
    text-shadow: none !important;
}
